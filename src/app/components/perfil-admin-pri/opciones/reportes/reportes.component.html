<div class="reportes-container w-full max-w-full">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Módulo de Reportes</h2>

  <!-- Filtros combinables en card -->
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-6 p-4">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-2">
      <!-- Departamento -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Departamento</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm" [(ngModel)]="filtroDepartamento" (change)="onDepartamentoChange()">
          <option value="" disabled selected>Departamento</option>
          <option *ngFor="let dep of departamentos" [value]="dep.departamento">{{ dep.departamento }}</option>
        </select>
      </div>
      <!-- Provincia -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Provincia</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm" [(ngModel)]="filtroProvincia" (change)="onProvinciaChange()" [disabled]="!provincias.length">
          <option value="" disabled selected>Provincia</option>
          <option *ngFor="let prov of provincias" [value]="prov.provincia">{{ prov.provincia }}</option>
        </select>
      </div>
      <!-- Distrito -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Distrito</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm" [(ngModel)]="filtroDistrito" [disabled]="!distritos.length">
          <option value="" disabled selected>Distrito</option>
          <option *ngFor="let dist of distritos" [value]="dist.distrito">{{ dist.distrito }}</option>
        </select>
      </div>
      <!-- Colegio -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Colegio</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm" [(ngModel)]="filtroColegio">
          <option value="" disabled selected>Colegio</option>
          <option *ngFor="let colegio of colegiosClientes" [value]="colegio.nombre">{{ colegio.nombre }}</option>
        </select>
      </div>
    </div>
    <!-- Filtros adicionales -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-2">
      <!-- Nivel -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Nivel</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"
                [(ngModel)]="filtroNivel" (change)="onNivelChange()">
          <option value="" disabled selected>Nivel</option>
          <option *ngFor="let nivel of niveles" [value]="nivel.nombre">{{ nivel.nombre }}</option>
        </select>
      </div>
      <!-- Grado -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Grado</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"
                [(ngModel)]="filtroGrado" (change)="onGradoChange()" [disabled]="!grados.length">
          <option value="" disabled selected>Grado</option>
          <option *ngFor="let grado of grados" [value]="grado.nombre">{{ grado.nombre }}</option>
        </select>
      </div>
      <!-- Sección -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Sección</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"
                [(ngModel)]="filtroSeccion" [disabled]="!secciones.length">
          <option value="" disabled selected>Sección</option>
          <option *ngFor="let seccion of secciones" [value]="seccion.nombre">{{ seccion.nombre }}</option>
        </select>
      </div>
      <!-- Curso -->
      <div class="min-w-[120px] max-w-xs flex-1">
        <label class="block text-sm font-medium text-gray-700 mb-2">Curso</label>
        <select class="block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm" [(ngModel)]="filtroCurso">
          <option value="" disabled selected>Curso</option>
          <option *ngFor="let curso of cursos" [value]="curso.nombre">{{ curso.nombre }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Botones de exportar e importar -->
  <div class="flex flex-wrap gap-4 mb-8 justify-center">
    <button class="flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition">
      <!-- Excel Icon (Heroicons) -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path d="M4 4h16v16H4V4z" fill="#fff"/>
        <text x="7" y="17" font-size="10" fill="#22c55e" font-family="Arial">XLS</text>
      </svg>
      Exportar Excel
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition">
      <!-- PDF Icon (Heroicons) -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <rect x="4" y="4" width="16" height="16" rx="2" fill="#fff"/>
        <text x="7" y="17" font-size="10" fill="#dc2626" font-family="Arial">PDF</text>
      </svg>
      Exportar PDF
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
      <!-- Word Icon (Heroicons) -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <rect x="4" y="4" width="16" height="16" rx="2" fill="#fff"/>
        <text x="7" y="17" font-size="10" fill="#2563eb" font-family="Arial">DOC</text>
      </svg>
      Exportar Word
    </button>
    <button class="flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition">
      <!-- Import Icon (Heroicons) -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
      </svg>
      Importar Datos
    </button>
  </div>

  <!-- Contenedor de Tabla // Datos de ejemplo -->
  <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-x-auto">
    <!-- Tabla de Reportes -->
    <table class="min-w-full bg-white w-full">
      <thead>
        <tr>
          <th class="px-6 py-3 bg-[#4EAD4F] text-left text-xs font-bold text-white uppercase tracking-wider">Nro</th>
          <th class="px-6 py-3 bg-[#4EAD4F] text-left text-xs font-bold text-white uppercase tracking-wider">Nombre</th>
          <th class="px-6 py-3 bg-[#4EAD4F] text-left text-xs font-bold text-white uppercase tracking-wider">Colegio</th>
          <th class="px-6 py-3 bg-[#4EAD4F] text-left text-xs font-bold text-white uppercase tracking-wider">Nivel</th>
          <th class="px-6 py-3 bg-[#4EAD4F] text-left text-xs font-bold text-white uppercase tracking-wider">Curso</th>
          <th class="px-6 py-3 bg-[#4EAD4F] text-left text-xs font-bold text-white uppercase tracking-wider">Nota</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let estudiante of estudiantesPaginados; let i = index"
            [ngClass]="i % 2 === 0 ? 'bg-gray-50' : 'bg-white'"
            class="transition-colors duration-200 hover:bg-green-100 cursor-pointer">
          <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-700">{{ (currentPage - 1) * pageSize + i + 1 }}</td>
          <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-700">{{ estudiante.nombre }}</td>
          <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-700">{{ estudiante.colegio }}</td>
          <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-700">{{ estudiante.nivel }}</td>
          <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-700">{{ estudiante.curso }}</td>
          <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-700">{{ estudiante.notas }}</td>
        </tr>
      </tbody>
    </table>
    <!-- Fin de tabla -->

  </div>

  <!-- Controles de paginación -->
  <div class="flex justify-center items-center gap-2 mt-4">
    <button class="px-3 py-1 bg-gray-200 rounded" (click)="cambiarPagina(currentPage - 1)" [disabled]="currentPage === 1">
      Anterior
    </button>
    <ng-container *ngFor="let page of [].constructor(totalPages); let idx = index">
      <button
        class="px-3 py-1 rounded"
        [ngClass]="currentPage === idx + 1 ? 'bg-green-600 text-white' : 'bg-gray-200'"
        (click)="cambiarPagina(idx + 1)">
        {{ idx + 1 }}
      </button>
    </ng-container>
    <button class="px-3 py-1 bg-gray-200 rounded" (click)="cambiarPagina(currentPage + 1)" [disabled]="currentPage === totalPages">
      Siguiente
    </button>
  </div>

